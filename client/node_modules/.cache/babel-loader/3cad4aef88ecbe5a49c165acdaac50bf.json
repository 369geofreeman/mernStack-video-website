{"ast":null,"code":"import { LOG_IN, LOG_OUT, REGISTER_SUCCESS, REGISTER_FAIL, LOGIN_SUCCESS, LOGIN_FAIL, USER_LOADED, AUTH_ERROR } from \"../actions/ActionTypes\";\nexport const initialState = {\n  isLoggedIn: false,\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  loading: true,\n  user: null\n};\n\nconst AuthenticateReducer = (state = initialState, action) => {\n  const {\n    payload,\n    type\n  } = action;\n\n  switch (type) {\n    case USER_LOADED:\n      return { ...state,\n        isAuthenticated: true,\n        loading: false,\n        user: payload\n      };\n\n    case LOG_IN:\n      return { ...state,\n        isLoggedIn: true\n      };\n\n    case LOG_OUT:\n      return { ...state,\n        isLoggedIn: false\n      };\n    // SET HERE\n\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"token\", payload.token);\n      return { ...state,\n        ...payload,\n        isAuthenticated: true,\n        loading: false\n      };\n\n    case REGISTER_FAIL:\n    case AUTH_ERROR:\n    case LOGIN_FAIL:\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default AuthenticateReducer;","map":{"version":3,"sources":["/Users/joshuastevenson/Desktop/Websites/xhkd/client/src/store/reducers/AuthenticateReducer.js"],"names":["LOG_IN","LOG_OUT","REGISTER_SUCCESS","REGISTER_FAIL","LOGIN_SUCCESS","LOGIN_FAIL","USER_LOADED","AUTH_ERROR","initialState","isLoggedIn","token","localStorage","getItem","isAuthenticated","loading","user","AuthenticateReducer","state","action","payload","type","setItem","removeItem"],"mappings":"AAAA,SACEA,MADF,EAEEC,OAFF,EAGEC,gBAHF,EAIEC,aAJF,EAKEC,aALF,EAMEC,UANF,EAOEC,WAPF,EAQEC,UARF,QASO,wBATP;AAWA,OAAO,MAAMC,YAAY,GAAG;AAC1BC,EAAAA,UAAU,EAAE,KADc;AAE1BC,EAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFmB;AAG1BC,EAAAA,eAAe,EAAE,IAHS;AAI1BC,EAAAA,OAAO,EAAE,IAJiB;AAK1BC,EAAAA,IAAI,EAAE;AALoB,CAArB;;AAQP,MAAMC,mBAAmB,GAAG,CAACC,KAAK,GAAGT,YAAT,EAAuBU,MAAvB,KAAkC;AAC5D,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAoBF,MAA1B;;AACA,UAAQE,IAAR;AACE,SAAKd,WAAL;AACE,aAAO,EACL,GAAGW,KADE;AAELJ,QAAAA,eAAe,EAAE,IAFZ;AAGLC,QAAAA,OAAO,EAAE,KAHJ;AAILC,QAAAA,IAAI,EAAEI;AAJD,OAAP;;AAOF,SAAKnB,MAAL;AACE,aAAO,EACL,GAAGiB,KADE;AAELR,QAAAA,UAAU,EAAE;AAFP,OAAP;;AAIF,SAAKR,OAAL;AACE,aAAO,EACL,GAAGgB,KADE;AAELR,QAAAA,UAAU,EAAE;AAFP,OAAP;AAIF;;AACA,SAAKP,gBAAL;AACA,SAAKE,aAAL;AACEO,MAAAA,YAAY,CAACU,OAAb,CAAqB,OAArB,EAA8BF,OAAO,CAACT,KAAtC;AACA,aAAO,EACL,GAAGO,KADE;AAEL,WAAGE,OAFE;AAGLN,QAAAA,eAAe,EAAE,IAHZ;AAILC,QAAAA,OAAO,EAAE;AAJJ,OAAP;;AAMF,SAAKX,aAAL;AACA,SAAKI,UAAL;AACA,SAAKF,UAAL;AACEM,MAAAA,YAAY,CAACW,UAAb,CAAwB,OAAxB;AACA,aAAO,EACL,GAAGL,KADE;AAELP,QAAAA,KAAK,EAAE,IAFF;AAGLG,QAAAA,eAAe,EAAE,KAHZ;AAILC,QAAAA,OAAO,EAAE;AAJJ,OAAP;;AAOF;AACE,aAAOG,KAAP;AAzCJ;AA2CD,CA7CD;;AA+CA,eAAeD,mBAAf","sourcesContent":["import {\n  LOG_IN,\n  LOG_OUT,\n  REGISTER_SUCCESS,\n  REGISTER_FAIL,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  USER_LOADED,\n  AUTH_ERROR\n} from \"../actions/ActionTypes\";\n\nexport const initialState = {\n  isLoggedIn: false,\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  loading: true,\n  user: null\n};\n\nconst AuthenticateReducer = (state = initialState, action) => {\n  const { payload, type } = action;\n  switch (type) {\n    case USER_LOADED:\n      return {\n        ...state,\n        isAuthenticated: true,\n        loading: false,\n        user: payload\n      };\n\n    case LOG_IN:\n      return {\n        ...state,\n        isLoggedIn: true\n      };\n    case LOG_OUT:\n      return {\n        ...state,\n        isLoggedIn: false\n      };\n    // SET HERE\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"token\", payload.token);\n      return {\n        ...state,\n        ...payload,\n        isAuthenticated: true,\n        loading: false\n      };\n    case REGISTER_FAIL:\n    case AUTH_ERROR:\n    case LOGIN_FAIL:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default AuthenticateReducer;\n"]},"metadata":{},"sourceType":"module"}