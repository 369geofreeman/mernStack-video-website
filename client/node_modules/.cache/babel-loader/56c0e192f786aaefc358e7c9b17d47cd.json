{"ast":null,"code":"var _jsxFileName = \"/Users/joshuastevenson/Desktop/Websites/xhkd/client/src/containers/CategoryPlayer/CategoryPlayer.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport AwesomeSlider from \"react-awesome-slider\";\nimport ReactPlayer from \"react-player\";\nimport CoreStyles from \"react-awesome-slider/src/core/styles.scss\";\nimport AnimationStyles from \"react-awesome-slider/src/styled/open-animation/open-animation.scss\"; // Redux\n\nimport { currentCategoryIndex } from \"../../store/actions/Index\"; // Helper functions\n\nimport categorySelect from \"../../assets/utils/categorySelect\";\nimport useKeyPress from \"../../assets/utils/useKeyPress\";\nimport useWindowDimensions from \"../../assets/utils/getWindowDimensions\"; // My Components\n\nimport VideoTitleViewAll from \"../../components/VideoTitle/VIdeoTitleViewAll\";\nimport CategoryPlayerButtons from \"./CategoryPlayerButtons\";\nimport \"./CategoryPlayer.scss\";\n\nconst CategoryPlayer = props => {\n  const categorySet = categorySelect(props.vidTitle);\n  const {\n    width,\n    height\n  } = useWindowDimensions();\n  const [videos] = useState(categorySet);\n  const [videoLen, setVidLength] = useState(0);\n  const [toggleVideoWithSpace, setToggleVideoWithSpace] = useState(true);\n  const rightPress = useKeyPress(\"ArrowRight\");\n  const dPress = useKeyPress(\"d\");\n  const leftPress = useKeyPress(\"ArrowLeft\");\n  const aPress = useKeyPress(\"a\");\n  const spacePress = useKeyPress(\" \");\n  const {\n    onResetCurrentCategoryIndex,\n    VideoIndexRedux,\n    modalOpen\n  } = props; // Set the Video index from URL\n\n  let VideoIndex = VideoIndexRedux;\n  console.log(window.location.href.split(\"/\")[5]);\n\n  if (window.location.href.split(\"/\")[5]) {\n    for (let i = 0; i < videos.length; i++) {\n      if (videos[i]._id === +window.location.href.split(\"/\")[5]) VideoIndex = i;\n    }\n  } else {\n    VideoIndex = VideoIndexRedux;\n  }\n\n  useEffect(() => {\n    setVidLength(videos.length - 1);\n    if (rightPress || dPress) !modalOpen && nextIndex(); // eslint-disable-next-line\n  }, [rightPress, dPress, videoLen, videos.length, onResetCurrentCategoryIndex, modalOpen]);\n  useEffect(() => {\n    if (leftPress || aPress) !modalOpen && onResetCurrentCategoryIndex(VideoIndex === 0 ? videoLen : VideoIndex - 1); // eslint-disable-next-line\n  }, [leftPress, aPress, videoLen, onResetCurrentCategoryIndex, modalOpen]);\n  useEffect(() => {\n    if (spacePress) !modalOpen && setToggleVideoWithSpace(prevState => !prevState);\n  }, [spacePress, modalOpen]);\n\n  const nextIndex = () => {\n    onResetCurrentCategoryIndex(VideoIndex === videoLen ? 0 : VideoIndex + 1);\n  };\n\n  const previousIndex = () => {\n    onResetCurrentCategoryIndex(VideoIndex === 0 ? videoLen : VideoIndex - 1);\n  };\n\n  let slides = videos.map((slide, index) => {\n    return React.createElement(\"div\", {\n      \"data-src\": \"\",\n      key: slide.vidLink,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(VideoTitleViewAll, {\n      title: slide.title,\n      category: slide.category,\n      categoryTag: slide.categoryTag,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(ReactPlayer, {\n      url: videos[VideoIndex].vidLink,\n      playing: toggleVideoWithSpace,\n      loop: true,\n      controls: true,\n      disablePictureInPicture: true,\n      style: {\n        backgroundColor: \"#000\"\n      },\n      config: {\n        file: {\n          attributes: {\n            controlsList: \"nodownload\"\n          }\n        }\n      },\n      width: width,\n      height: height,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }));\n  });\n  let vidUrlIndexTo = VideoIndex === videoLen ? VideoIndex : VideoIndex + 1;\n  let vidUrlIndexFrom = VideoIndex === 0 ? videoLen : VideoIndex - 1;\n  return React.createElement(\"div\", {\n    className: \"catergoryPlayerContainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(AwesomeSlider, {\n    animation: \"openAnimation\",\n    cssModule: [CoreStyles, AnimationStyles],\n    bullets: false,\n    fillParent: true,\n    style: {\n      backgroundColor: \"#000\"\n    },\n    buttons: false,\n    selected: VideoIndex,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, slides), React.createElement(CategoryPlayerButtons, {\n    nextIndex: nextIndex,\n    to: `/categories/${props.vidTitle}/${videos[vidUrlIndexTo]._id}`,\n    previousIndex: previousIndex,\n    from: `/categories/${props.vidTitle}/${videos[vidUrlIndexFrom]._id}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }));\n}; // Redux Vars\n\n\nconst mapStateToProps = state => {\n  return {\n    VideoIndexRedux: state.VideoIndex.categoryIndex,\n    vidTitle: state.VideoIndex.categoryTitle,\n    modalOpen: state.ModalOpen.modalOpen\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onResetCurrentCategoryIndex: index => dispatch(currentCategoryIndex(index))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryPlayer);","map":{"version":3,"sources":["/Users/joshuastevenson/Desktop/Websites/xhkd/client/src/containers/CategoryPlayer/CategoryPlayer.js"],"names":["React","useState","useEffect","connect","AwesomeSlider","ReactPlayer","CoreStyles","AnimationStyles","currentCategoryIndex","categorySelect","useKeyPress","useWindowDimensions","VideoTitleViewAll","CategoryPlayerButtons","CategoryPlayer","props","categorySet","vidTitle","width","height","videos","videoLen","setVidLength","toggleVideoWithSpace","setToggleVideoWithSpace","rightPress","dPress","leftPress","aPress","spacePress","onResetCurrentCategoryIndex","VideoIndexRedux","modalOpen","VideoIndex","console","log","window","location","href","split","i","length","_id","nextIndex","prevState","previousIndex","slides","map","slide","index","vidLink","title","category","categoryTag","backgroundColor","file","attributes","controlsList","vidUrlIndexTo","vidUrlIndexFrom","mapStateToProps","state","categoryIndex","categoryTitle","ModalOpen","mapDispatchToProps","dispatch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AACA,OAAOC,WAAP,MAAwB,cAAxB;AACA,OAAOC,UAAP,MAAuB,2CAAvB;AACA,OAAOC,eAAP,MAA4B,oEAA5B,C,CACA;;AACA,SAASC,oBAAT,QAAqC,2BAArC,C,CACA;;AACA,OAAOC,cAAP,MAA2B,mCAA3B;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,mBAAP,MAAgC,wCAAhC,C,CACA;;AACA,OAAOC,iBAAP,MAA8B,+CAA9B;AACA,OAAOC,qBAAP,MAAkC,yBAAlC;AACA,OAAO,uBAAP;;AAEA,MAAMC,cAAc,GAAGC,KAAK,IAAI;AAC9B,QAAMC,WAAW,GAAGP,cAAc,CAACM,KAAK,CAACE,QAAP,CAAlC;AACA,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAoBR,mBAAmB,EAA7C;AACA,QAAM,CAACS,MAAD,IAAWnB,QAAQ,CAACe,WAAD,CAAzB;AACA,QAAM,CAACK,QAAD,EAAWC,YAAX,IAA2BrB,QAAQ,CAAC,CAAD,CAAzC;AACA,QAAM,CAACsB,oBAAD,EAAuBC,uBAAvB,IAAkDvB,QAAQ,CAAC,IAAD,CAAhE;AAEA,QAAMwB,UAAU,GAAGf,WAAW,CAAC,YAAD,CAA9B;AACA,QAAMgB,MAAM,GAAGhB,WAAW,CAAC,GAAD,CAA1B;AACA,QAAMiB,SAAS,GAAGjB,WAAW,CAAC,WAAD,CAA7B;AACA,QAAMkB,MAAM,GAAGlB,WAAW,CAAC,GAAD,CAA1B;AACA,QAAMmB,UAAU,GAAGnB,WAAW,CAAC,GAAD,CAA9B;AAEA,QAAM;AAAEoB,IAAAA,2BAAF;AAA+BC,IAAAA,eAA/B;AAAgDC,IAAAA;AAAhD,MAA8DjB,KAApE,CAb8B,CAe9B;;AACA,MAAIkB,UAAU,GAAGF,eAAjB;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAZ;;AACA,MAAIH,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAJ,EAAwC;AACtC,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGpB,MAAM,CAACqB,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACtC,UAAIpB,MAAM,CAACoB,CAAD,CAAN,CAAUE,GAAV,KAAkB,CAACN,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAvB,EAA2DN,UAAU,GAAGO,CAAb;AAC5D;AACF,GAJD,MAIO;AACLP,IAAAA,UAAU,GAAGF,eAAb;AACD;;AAED7B,EAAAA,SAAS,CAAC,MAAM;AACdoB,IAAAA,YAAY,CAACF,MAAM,CAACqB,MAAP,GAAgB,CAAjB,CAAZ;AACA,QAAIhB,UAAU,IAAIC,MAAlB,EAA0B,CAACM,SAAD,IAAcW,SAAS,EAAvB,CAFZ,CAGd;AACD,GAJQ,EAIN,CACDlB,UADC,EAEDC,MAFC,EAGDL,QAHC,EAIDD,MAAM,CAACqB,MAJN,EAKDX,2BALC,EAMDE,SANC,CAJM,CAAT;AAYA9B,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIyB,SAAS,IAAIC,MAAjB,EACE,CAACI,SAAD,IACEF,2BAA2B,CACzBG,UAAU,KAAK,CAAf,GAAmBZ,QAAnB,GAA8BY,UAAU,GAAG,CADlB,CAD7B,CAFY,CAMd;AACD,GAPQ,EAON,CAACN,SAAD,EAAYC,MAAZ,EAAoBP,QAApB,EAA8BS,2BAA9B,EAA2DE,SAA3D,CAPM,CAAT;AAQA9B,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI2B,UAAJ,EACE,CAACG,SAAD,IAAcR,uBAAuB,CAACoB,SAAS,IAAI,CAACA,SAAf,CAArC;AACH,GAHQ,EAGN,CAACf,UAAD,EAAaG,SAAb,CAHM,CAAT;;AAKA,QAAMW,SAAS,GAAG,MAAM;AACtBb,IAAAA,2BAA2B,CAACG,UAAU,KAAKZ,QAAf,GAA0B,CAA1B,GAA8BY,UAAU,GAAG,CAA5C,CAA3B;AACD,GAFD;;AAIA,QAAMY,aAAa,GAAG,MAAM;AAC1Bf,IAAAA,2BAA2B,CAACG,UAAU,KAAK,CAAf,GAAmBZ,QAAnB,GAA8BY,UAAU,GAAG,CAA5C,CAA3B;AACD,GAFD;;AAIA,MAAIa,MAAM,GAAG1B,MAAM,CAAC2B,GAAP,CAAW,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACxC,WACE;AAAK,kBAAS,EAAd;AAAiB,MAAA,GAAG,EAAED,KAAK,CAACE,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,iBAAD;AACE,MAAA,KAAK,EAAEF,KAAK,CAACG,KADf;AAEE,MAAA,QAAQ,EAAEH,KAAK,CAACI,QAFlB;AAGE,MAAA,WAAW,EAAEJ,KAAK,CAACK,WAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME,oBAAC,WAAD;AACE,MAAA,GAAG,EAAEjC,MAAM,CAACa,UAAD,CAAN,CAAmBiB,OAD1B;AAEE,MAAA,OAAO,EAAE3B,oBAFX;AAGE,MAAA,IAAI,MAHN;AAIE,MAAA,QAAQ,MAJV;AAKE,MAAA,uBAAuB,EAAE,IAL3B;AAME,MAAA,KAAK,EAAE;AAAE+B,QAAAA,eAAe,EAAE;AAAnB,OANT;AAOE,MAAA,MAAM,EAAE;AACNC,QAAAA,IAAI,EAAE;AACJC,UAAAA,UAAU,EAAE;AACVC,YAAAA,YAAY,EAAE;AADJ;AADR;AADA,OAPV;AAcE,MAAA,KAAK,EAAEvC,KAdT;AAeE,MAAA,MAAM,EAAEC,MAfV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF;AA0BD,GA3BY,CAAb;AA6BA,MAAIuC,aAAa,GAAGzB,UAAU,KAAKZ,QAAf,GAA0BY,UAA1B,GAAuCA,UAAU,GAAG,CAAxE;AACA,MAAI0B,eAAe,GAAG1B,UAAU,KAAK,CAAf,GAAmBZ,QAAnB,GAA8BY,UAAU,GAAG,CAAjE;AACA,SACE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,aAAD;AACE,IAAA,SAAS,EAAC,eADZ;AAEE,IAAA,SAAS,EAAE,CAAC3B,UAAD,EAAaC,eAAb,CAFb;AAGE,IAAA,OAAO,EAAE,KAHX;AAIE,IAAA,UAAU,EAAE,IAJd;AAKE,IAAA,KAAK,EAAE;AAAE+C,MAAAA,eAAe,EAAE;AAAnB,KALT;AAME,IAAA,OAAO,EAAE,KANX;AAOE,IAAA,QAAQ,EAAErB,UAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASGa,MATH,CADF,EAYE,oBAAC,qBAAD;AACE,IAAA,SAAS,EAAEH,SADb;AAEE,IAAA,EAAE,EAAG,eAAc5B,KAAK,CAACE,QAAS,IAAGG,MAAM,CAACsC,aAAD,CAAN,CAAsBhB,GAAI,EAFjE;AAGE,IAAA,aAAa,EAAEG,aAHjB;AAIE,IAAA,IAAI,EAAG,eAAc9B,KAAK,CAACE,QAAS,IAAGG,MAAM,CAACuC,eAAD,CAAN,CAAwBjB,GAAI,EAJrE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,CADF;AAqBD,CA/GD,C,CAiHA;;;AACA,MAAMkB,eAAe,GAAGC,KAAK,IAAI;AAC/B,SAAO;AACL9B,IAAAA,eAAe,EAAE8B,KAAK,CAAC5B,UAAN,CAAiB6B,aAD7B;AAEL7C,IAAAA,QAAQ,EAAE4C,KAAK,CAAC5B,UAAN,CAAiB8B,aAFtB;AAGL/B,IAAAA,SAAS,EAAE6B,KAAK,CAACG,SAAN,CAAgBhC;AAHtB,GAAP;AAKD,CAND;;AAQA,MAAMiC,kBAAkB,GAAGC,QAAQ,IAAI;AACrC,SAAO;AACLpC,IAAAA,2BAA2B,EAAEmB,KAAK,IAAIiB,QAAQ,CAAC1D,oBAAoB,CAACyC,KAAD,CAArB;AADzC,GAAP;AAGD,CAJD;;AAMA,eAAe9C,OAAO,CACpByD,eADoB,EAEpBK,kBAFoB,CAAP,CAGbnD,cAHa,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport AwesomeSlider from \"react-awesome-slider\";\nimport ReactPlayer from \"react-player\";\nimport CoreStyles from \"react-awesome-slider/src/core/styles.scss\";\nimport AnimationStyles from \"react-awesome-slider/src/styled/open-animation/open-animation.scss\";\n// Redux\nimport { currentCategoryIndex } from \"../../store/actions/Index\";\n// Helper functions\nimport categorySelect from \"../../assets/utils/categorySelect\";\nimport useKeyPress from \"../../assets/utils/useKeyPress\";\nimport useWindowDimensions from \"../../assets/utils/getWindowDimensions\";\n// My Components\nimport VideoTitleViewAll from \"../../components/VideoTitle/VIdeoTitleViewAll\";\nimport CategoryPlayerButtons from \"./CategoryPlayerButtons\";\nimport \"./CategoryPlayer.scss\";\n\nconst CategoryPlayer = props => {\n  const categorySet = categorySelect(props.vidTitle);\n  const { width, height } = useWindowDimensions();\n  const [videos] = useState(categorySet);\n  const [videoLen, setVidLength] = useState(0);\n  const [toggleVideoWithSpace, setToggleVideoWithSpace] = useState(true);\n\n  const rightPress = useKeyPress(\"ArrowRight\");\n  const dPress = useKeyPress(\"d\");\n  const leftPress = useKeyPress(\"ArrowLeft\");\n  const aPress = useKeyPress(\"a\");\n  const spacePress = useKeyPress(\" \");\n\n  const { onResetCurrentCategoryIndex, VideoIndexRedux, modalOpen } = props;\n\n  // Set the Video index from URL\n  let VideoIndex = VideoIndexRedux;\n  console.log(window.location.href.split(\"/\")[5]);\n  if (window.location.href.split(\"/\")[5]) {\n    for (let i = 0; i < videos.length; i++) {\n      if (videos[i]._id === +window.location.href.split(\"/\")[5]) VideoIndex = i;\n    }\n  } else {\n    VideoIndex = VideoIndexRedux;\n  }\n\n  useEffect(() => {\n    setVidLength(videos.length - 1);\n    if (rightPress || dPress) !modalOpen && nextIndex();\n    // eslint-disable-next-line\n  }, [\n    rightPress,\n    dPress,\n    videoLen,\n    videos.length,\n    onResetCurrentCategoryIndex,\n    modalOpen\n  ]);\n  useEffect(() => {\n    if (leftPress || aPress)\n      !modalOpen &&\n        onResetCurrentCategoryIndex(\n          VideoIndex === 0 ? videoLen : VideoIndex - 1\n        );\n    // eslint-disable-next-line\n  }, [leftPress, aPress, videoLen, onResetCurrentCategoryIndex, modalOpen]);\n  useEffect(() => {\n    if (spacePress)\n      !modalOpen && setToggleVideoWithSpace(prevState => !prevState);\n  }, [spacePress, modalOpen]);\n\n  const nextIndex = () => {\n    onResetCurrentCategoryIndex(VideoIndex === videoLen ? 0 : VideoIndex + 1);\n  };\n\n  const previousIndex = () => {\n    onResetCurrentCategoryIndex(VideoIndex === 0 ? videoLen : VideoIndex - 1);\n  };\n\n  let slides = videos.map((slide, index) => {\n    return (\n      <div data-src=\"\" key={slide.vidLink}>\n        <VideoTitleViewAll\n          title={slide.title}\n          category={slide.category}\n          categoryTag={slide.categoryTag}\n        />\n        <ReactPlayer\n          url={videos[VideoIndex].vidLink}\n          playing={toggleVideoWithSpace}\n          loop\n          controls\n          disablePictureInPicture={true}\n          style={{ backgroundColor: \"#000\" }}\n          config={{\n            file: {\n              attributes: {\n                controlsList: \"nodownload\"\n              }\n            }\n          }}\n          width={width}\n          height={height}\n        />\n      </div>\n    );\n  });\n\n  let vidUrlIndexTo = VideoIndex === videoLen ? VideoIndex : VideoIndex + 1;\n  let vidUrlIndexFrom = VideoIndex === 0 ? videoLen : VideoIndex - 1;\n  return (\n    <div className=\"catergoryPlayerContainer\">\n      <AwesomeSlider\n        animation=\"openAnimation\"\n        cssModule={[CoreStyles, AnimationStyles]}\n        bullets={false}\n        fillParent={true}\n        style={{ backgroundColor: \"#000\" }}\n        buttons={false}\n        selected={VideoIndex}\n      >\n        {slides}\n      </AwesomeSlider>\n      <CategoryPlayerButtons\n        nextIndex={nextIndex}\n        to={`/categories/${props.vidTitle}/${videos[vidUrlIndexTo]._id}`}\n        previousIndex={previousIndex}\n        from={`/categories/${props.vidTitle}/${videos[vidUrlIndexFrom]._id}`}\n      />\n    </div>\n  );\n};\n\n// Redux Vars\nconst mapStateToProps = state => {\n  return {\n    VideoIndexRedux: state.VideoIndex.categoryIndex,\n    vidTitle: state.VideoIndex.categoryTitle,\n    modalOpen: state.ModalOpen.modalOpen\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onResetCurrentCategoryIndex: index => dispatch(currentCategoryIndex(index))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CategoryPlayer);\n"]},"metadata":{},"sourceType":"module"}