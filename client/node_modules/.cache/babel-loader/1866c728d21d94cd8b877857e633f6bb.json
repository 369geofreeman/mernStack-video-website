{"ast":null,"code":"import { LOG_IN, LOG_OUT, REGISTER_SUCCESS, REGISTER_FAIL, SET_ALERT, REMOVE_ALERT } from \"../actions/ActionTypes\";\nexport const initialState = {\n  isLoggedIn: false,\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  loading: true,\n  user: null,\n  errors: []\n};\n\nconst AuthenticateReducer = (state = initialState, action) => {\n  const {\n    payload,\n    type\n  } = action;\n\n  switch (type) {\n    case LOG_IN:\n      return { ...state,\n        isLoggedIn: true\n      };\n\n    case LOG_OUT:\n      return { ...state,\n        isLoggedIn: false\n      };\n\n    case SET_ALERT:\n      return [...state.errors, payload];\n\n    case REMOVE_ALERT:\n      return state.errors.filter(alert => alert.id !== payload.id);\n    // SET HERE\n\n    case REGISTER_SUCCESS:\n      localStorage.setItem(\"token\", payload.token);\n      return { ...state,\n        ...payload,\n        isAuthenticated: true,\n        loading: false\n      };\n\n    case REGISTER_FAIL:\n      localStorage.removeItem(\"token\");\n      return { ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default AuthenticateReducer;","map":{"version":3,"sources":["/Users/joshuastevenson/Desktop/Websites/xhkd/client/src/store/reducers/AuthenticateReducer.js"],"names":["LOG_IN","LOG_OUT","REGISTER_SUCCESS","REGISTER_FAIL","SET_ALERT","REMOVE_ALERT","initialState","isLoggedIn","token","localStorage","getItem","isAuthenticated","loading","user","errors","AuthenticateReducer","state","action","payload","type","filter","alert","id","setItem","removeItem"],"mappings":"AAAA,SACEA,MADF,EAEEC,OAFF,EAGEC,gBAHF,EAIEC,aAJF,EAKEC,SALF,EAMEC,YANF,QAOO,wBAPP;AASA,OAAO,MAAMC,YAAY,GAAG;AAC1BC,EAAAA,UAAU,EAAE,KADc;AAE1BC,EAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFmB;AAG1BC,EAAAA,eAAe,EAAE,IAHS;AAI1BC,EAAAA,OAAO,EAAE,IAJiB;AAK1BC,EAAAA,IAAI,EAAE,IALoB;AAM1BC,EAAAA,MAAM,EAAE;AANkB,CAArB;;AASP,MAAMC,mBAAmB,GAAG,CAACC,KAAK,GAAGV,YAAT,EAAuBW,MAAvB,KAAkC;AAC5D,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAoBF,MAA1B;;AACA,UAAQE,IAAR;AACE,SAAKnB,MAAL;AACE,aAAO,EACL,GAAGgB,KADE;AAELT,QAAAA,UAAU,EAAE;AAFP,OAAP;;AAIF,SAAKN,OAAL;AACE,aAAO,EACL,GAAGe,KADE;AAELT,QAAAA,UAAU,EAAE;AAFP,OAAP;;AAIF,SAAKH,SAAL;AACE,aAAO,CAAC,GAAGY,KAAK,CAACF,MAAV,EAAkBI,OAAlB,CAAP;;AACF,SAAKb,YAAL;AACE,aAAOW,KAAK,CAACF,MAAN,CAAaM,MAAb,CAAoBC,KAAK,IAAIA,KAAK,CAACC,EAAN,KAAaJ,OAAO,CAACI,EAAlD,CAAP;AACF;;AACA,SAAKpB,gBAAL;AACEO,MAAAA,YAAY,CAACc,OAAb,CAAqB,OAArB,EAA8BL,OAAO,CAACV,KAAtC;AACA,aAAO,EACL,GAAGQ,KADE;AAEL,WAAGE,OAFE;AAGLP,QAAAA,eAAe,EAAE,IAHZ;AAILC,QAAAA,OAAO,EAAE;AAJJ,OAAP;;AAMF,SAAKT,aAAL;AACEM,MAAAA,YAAY,CAACe,UAAb,CAAwB,OAAxB;AACA,aAAO,EACL,GAAGR,KADE;AAELR,QAAAA,KAAK,EAAE,IAFF;AAGLG,QAAAA,eAAe,EAAE,KAHZ;AAILC,QAAAA,OAAO,EAAE;AAJJ,OAAP;;AAOF;AACE,aAAOI,KAAP;AAlCJ;AAoCD,CAtCD;;AAwCA,eAAeD,mBAAf","sourcesContent":["import {\n  LOG_IN,\n  LOG_OUT,\n  REGISTER_SUCCESS,\n  REGISTER_FAIL,\n  SET_ALERT,\n  REMOVE_ALERT\n} from \"../actions/ActionTypes\";\n\nexport const initialState = {\n  isLoggedIn: false,\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  loading: true,\n  user: null,\n  errors: []\n};\n\nconst AuthenticateReducer = (state = initialState, action) => {\n  const { payload, type } = action;\n  switch (type) {\n    case LOG_IN:\n      return {\n        ...state,\n        isLoggedIn: true\n      };\n    case LOG_OUT:\n      return {\n        ...state,\n        isLoggedIn: false\n      };\n    case SET_ALERT:\n      return [...state.errors, payload];\n    case REMOVE_ALERT:\n      return state.errors.filter(alert => alert.id !== payload.id);\n    // SET HERE\n    case REGISTER_SUCCESS:\n      localStorage.setItem(\"token\", payload.token);\n      return {\n        ...state,\n        ...payload,\n        isAuthenticated: true,\n        loading: false\n      };\n    case REGISTER_FAIL:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        token: null,\n        isAuthenticated: false,\n        loading: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default AuthenticateReducer;\n"]},"metadata":{},"sourceType":"module"}